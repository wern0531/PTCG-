import{g as n,h as a}from"./index-8fd826e5.js";import{S as e}from"./sweetalert2.all-01f3b215.js";const{VITE_URL:o,VITE_PATH:i}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/production-sub-path/",MODE:"production",DEV:!1,PROD:!0},d=n("cart",{state:()=>({carts:[]}),getters:{getCartNum(t){return t.carts.length}},actions:{getCarts(){a.get(`${o}v2/api/${i}/cart`).then(t=>{this.carts=t.data.data.carts}).catch(t=>{e.fire({icon:"error",title:"Oops...",text:`${t}.response.data.message`})})},addToCart(t,s){const r={product_id:t,qty:1};a.post(`${o}/v2/api/${i}/cart`,{data:r}).then(c=>{this.getCarts(),e.fire({position:"top-center",icon:"success",title:`${s} 已成功選購`,showConfirmButton:!1,timer:1500})}).catch(c=>{e.fire({icon:"error",title:"Oops...",text:`${c}.response.data.message`})})},delCart(t,s){a.delete(`${o}/v2/api/${i}/cart/${t}`).then(r=>{this.getCarts(),e.fire({position:"top-center",icon:"success",title:`商品 ${s} 已刪除`,showConfirmButton:!1,timer:1500})}).catch(r=>{e.fire({icon:"error",title:"Oops...",text:`${r}.response.data.message`})})}}});export{d as c};
