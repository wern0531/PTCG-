import{_ as w,a as b,c as d,e as u,w as g,b as t,n as l,l as P,t as p,q as h,F as m,j as L,d as k,r as _,o as a,p as T,f as E}from"./index-f8112734.js";import{c as V}from"./cart-a3fc69e1.js";import{P as I}from"./PaginationView-1d5192ce.js";import{_ as B}from"./pikachu_gif-ecacffd9.js";import"./sweetalert2.all-b66c0e8e.js";const{VITE_URL:y,VITE_PATH:f}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/PTCGTrainerWeb/",MODE:"production",DEV:!1,PROD:!0},S={data(){return{isLoading:!1,products:[],productCategory:[],category:"",pagination:{},page:1}},methods:{...b(V,["addToCart"]),getProducts(s=1,o="全部商品"){this.isLoading=!0,this.page=s,this.category=o,this.$http.get(`${y}/v2/api/${f}/products/?page=${s}`).then(c=>{this.products=c.data.products,this.pagination=c.data.pagination,o==="全部商品"?this.productCategory=this.products:this.getCategory(o),this.isLoading=!1})},getCategory(s){this.$http.get(`${y}/v2/api/${f}/products/all`).then(o=>{console.log(o.data.products),this.productCategory=[],o.data.products.forEach(c=>{c.category===s&&this.productCategory.push(c)}),console.log("productCategory",this.productCategory)})}},components:{Pagination:I},mounted(){this.category=this.$route.params.category,this.getProducts(void 0,this.category)}},n=s=>(T("data-v-f18606c3"),s=s(),E(),s),N=n(()=>t("div",{class:"loadingGif"},[t("img",{src:B,alt:""})],-1)),A={class:"container"},D={class:"row d-flex flex-column flex-lg-row"},R={class:"col-lg-3"},U={class:"w-100 pt-3 text-center d-flex flex-column productBtnList"},$=n(()=>t("p",null,"全部商品",-1)),j=[$],z=n(()=>t("p",null,"單卡",-1)),F=[z],G=n(()=>t("p",null,"牌組",-1)),H=[G],O=n(()=>t("p",null,"禮盒",-1)),W=[O],q=n(()=>t("p",null,"周邊",-1)),M=[q],J={class:"col-lg-9"},K={class:"pt-3 d-flex justify-content-center justify-content-lg-start text-white"},Q={key:0},X={class:"row productCardWrap"},Y={class:"pt-3 card productCard"},Z={class:"text-center"},tt=["src"],ot={class:"py-3",style:{width:"176px",margin:"0 auto"}},et={class:"pb-3 text-start text-white"},st={class:"pb-3 text-start text-white"},it=["onClick"],nt=n(()=>t("p",null,"加入購物車",-1)),ct=[nt];function rt(s,o,c,at,i,r){const x=_("LoadingItem"),v=_("router-link"),C=_("Pagination");return a(),d(m,null,[u(x,{active:i.isLoading,"z-index":1060},{default:g(()=>[N]),_:1},8,["active"]),t("div",A,[t("div",D,[t("div",R,[t("ul",U,[t("li",{type:"button",class:"btn text-myColor productsList",onClick:o[0]||(o[0]=e=>r.getProducts("全部商品"))},j),t("li",{type:"button",class:l(["btn border-white productList",i.category==="單卡"?"text-myColor":"text-white"]),onClick:o[1]||(o[1]=e=>r.getProducts(void 0,"單卡"))},F,2),t("li",{type:"button",class:l(["btn border-white productList",i.category==="牌組"?"text-myColor":"text-white"]),onClick:o[2]||(o[2]=e=>r.getProducts(void 0,"牌組"))},H,2),t("li",{type:"button",class:l(["btn border-white productList",i.category==="禮盒"?"text-myColor":"text-white"]),onClick:o[3]||(o[3]=e=>r.getProducts(void 0,"禮盒"))},W,2),t("li",{type:"button",class:l(["btn border-white productList",i.category==="周邊"?"text-myColor":"text-white"]),onClick:o[4]||(o[4]=e=>r.getProducts(void 0,"周邊"))},M,2)])]),t("div",J,[t("div",K,[P(" 全部商品 "),i.category!=="全部商品"?(a(),d("div",Q,"/"+p(i.category),1)):h("",!0)]),t("div",X,[(a(!0),d(m,null,L(i.productCategory,e=>(a(),d("div",{class:"col-lg-4 p-3",key:e.id},[t("div",Y,[u(v,{to:`/product/${e.id}`,class:"hover-pointer"},{default:g(()=>[t("div",Z,[t("img",{style:{"max-width":"70%",height:"auto"},src:e.imageUrl,class:"card-img-top",alt:"..."},null,8,tt)])]),_:2},1032,["to"]),t("div",ot,[t("div",et,p(e.title),1),t("div",st," $NT"+p(e.price),1),t("button",{class:"btn text-myColor productBtn",onClick:dt=>s.addToCart(e.id,e.title)},ct,8,it)])])]))),128))]),i.category=="全部商品"?(a(),k(C,{key:0,pages:i.pagination,onEmitPages:r.getProducts},null,8,["pages","onEmitPages"])):h("",!0)])])])],64)}const ht=w(S,[["render",rt],["__scopeId","data-v-f18606c3"]]);export{ht as default};
