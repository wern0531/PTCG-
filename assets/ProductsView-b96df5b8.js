import{_ as P,o as c,a as r,b as t,n as p,j as g,F as u,r as b,t as _,d as C,w,g as v,k as m,l as T,e as y,p as V,h as I}from"./index-1f35fbb0.js";const L={props:["pages"],methods:{updatePage(s){this.$emit("emitPages",s)}}},E={"aria-label":"Page navigation example"},$={class:"pagination justify-content-center"},z=t("span",{"aria-hidden":"true"},"«",-1),B=[z],F={key:0,class:"page-link"},O=["onClick"],S=t("span",{"aria-hidden":"true"},"»",-1),A=[S];function D(s,e,o,f,l,a){return c(),r("nav",E,[t("ul",$,[t("li",{class:p([{disabled:!o.pages.has_pre},"page-item"])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=g(i=>a.updatePage(o.pages.current_page-1),["prevent"]))},B)],2),(c(!0),r(u,null,b(o.pages.total_pages,i=>(c(),r("li",{class:p(["page-item",{active:o.pages.current_page===i}]),key:i},[i===o.pages.current_page?(c(),r("span",F,_(i),1)):(c(),r("a",{key:1,class:"page-link",href:"#",onClick:g(h=>a.updatePage(i),["prevent"])},_(i),9,O))],2))),128)),t("li",{class:p(["page-item",{disabled:!o.pages.has_next}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=g(i=>a.updatePage(o.pages.current_page+1),["prevent"]))},A)],2)])])}const j=P(L,[["render",D]]),G="/PTCGTrainerWeb/assets/pikachu_gif-209dc933.gif";const{VITE_URL:k,VITE_PATH:x}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/PTCGTrainerWeb/",MODE:"production",DEV:!1,PROD:!0},N={data(){return{isLoading:!1,products:[],productCategory:[],category:"",pagination:{},page:1}},methods:{getProducts(s,e=1){this.isLoading=!0,this.page=e,this.category=s,this.$http.get(`${k}/v2/api/${x}/products/?page=${e}`).then(o=>{this.products=o.data.products,this.pagination=o.data.pagination,s==="全部商品"?this.productCategory=this.products:this.getCategory(s),this.isLoading=!1})},getCategory(s){this.productCategory=[],this.products.forEach(e=>{e.category===s&&this.productCategory.push(e)})},addToCart(s){const e={product_id:s,qty:1};this.$http.post(`${k}/v2/api/${x}/cart`,{data:e}).then(o=>{console.log(o)})}},components:{Pagination:j},mounted(){this.category=this.$route.params.category,this.getProducts(this.category)}},d=s=>(V("data-v-ba8e3187"),s=s(),I(),s),U=d(()=>t("div",{class:"loadingGif"},[t("img",{src:G,alt:""})],-1)),W=d(()=>t("img",{class:"d-block w-100",src:"https://storage.googleapis.com/vue-course-api.appspot.com/wern/1676997146858.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=gbw08XkxL8gSSVkD2k2Dx6zl%2BCqCfBHn3PXdhQb6GBgke3r8XFYzr3at35VvA%2Fbf64WFwG6Hoztflt1lkIPz1PLhKaEeiyQXFJhI0WopbhvO8cozCBPESdXYPhnJqPNssLx7PH47YUWZUQ38tO8v3Q1iS6xG7x2nRAn8OCN3WaS3rgqFspRrTDyvz7jCxZJ1BJlbbcVFF5OJ9ITmsU3ovhAJrh0KVLMGOHzcU%2FwyBhsZ3WxJkUOuehJkOWYbTI%2F1PAjn9ejjz7QZTmQlmEOtVq8MEmQdsrHTnx5OgRKmf%2Bl1IxVwn9pdzAt3WGg2o7NVxQL3TL74TOjZDmA2i%2FIjFw%3D%3D",alt:""},null,-1)),J={class:"container"},Q={class:"row"},H={class:"col-3"},R={class:"w-100 pt-3 text-center d-flex flex-column productBtnList"},q=d(()=>t("p",null,"全部商品",-1)),X=[q],Z=d(()=>t("p",null,"單卡",-1)),M=[Z],Y=d(()=>t("p",null,"牌組",-1)),K=[Y],tt=d(()=>t("p",null,"禮盒",-1)),et=[tt],st=d(()=>t("p",null,"周邊",-1)),ot=[st],at={class:"col-9"},it={class:"pt-3 text-start d-flex"},nt={key:0},ct={class:"row"},rt={class:"pt-3 card productCard"},dt={class:"text-center"},lt=["src"],_t={class:"py-3",style:{width:"176px",margin:"0 auto"}},pt={class:"pb-3 text-start text-white"},gt={class:"pb-3 text-start text-white"},ut=["onClick"],ht=d(()=>t("p",null,"加入購物車",-1)),vt=[ht];function mt(s,e,o,f,l,a){const i=y("LoadingItem"),h=y("Pagination");return c(),r(u,null,[C(i,{active:l.isLoading,"z-index":1060},{default:w(()=>[U]),_:1},8,["active"]),W,t("div",J,[t("div",Q,[t("div",H,[t("ul",R,[t("li",{type:"button",class:"btn",onClick:e[0]||(e[0]=n=>a.getProducts("全部商品"))},X),t("li",{type:"button",class:"btn",onClick:e[1]||(e[1]=n=>a.getProducts("單卡"))},M),t("li",{type:"button",class:"btn",onClick:e[2]||(e[2]=n=>a.getProducts("牌組"))},K),t("li",{type:"button",class:"btn",onClick:e[3]||(e[3]=n=>a.getProducts("禮盒"))},et),t("li",{type:"button",class:"btn",onClick:e[4]||(e[4]=n=>a.getProducts("周邊"))},ot)])]),t("div",at,[t("div",it,[v("全部商品"),l.category?(c(),r("div",nt,"/")):m("",!0),v(" "+_(l.category),1)]),t("div",ct,[(c(!0),r(u,null,b(l.productCategory,n=>(c(),r("div",{class:"col-4 p-3",key:n.id},[t("div",rt,[t("div",dt,[t("img",{style:{"max-width":"70%",height:"auto"},src:n.imageUrl,class:"card-img-top",alt:"..."},null,8,lt)]),t("div",_t,[t("div",pt,_(n.title),1),t("div",gt," $NT"+_(n.price),1),t("button",{class:"btn",onClick:yt=>a.addToCart(n.id)},vt,8,ut)])])]))),128))]),l.category=="全部商品"?(c(),T(h,{key:0,pages:l.pagination,onEmitPages:a.getProducts},null,8,["pages","onEmitPages"])):m("",!0)])])])],64)}const xt=P(N,[["render",mt],["__scopeId","data-v-ba8e3187"]]);export{xt as default};
