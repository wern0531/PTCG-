import{_ as u,a as p,c as i,b as t,l as e,t as s,F as m,j as f,q as v,o as n,p as y,f as g}from"./index-614f490f.js";import{c as x}from"./cart-6c2d267a.js";import{S as I}from"./sweetalert2.all-57a97fe1.js";const{VITE_URL:_,VITE_PATH:h}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/production-sub-path/",MODE:"production",DEV:!1,PROD:!0},w={data(){return{carts:[],order:[],orderId:""}},methods:{...p(x,["getCarts"]),getOrder(){this.$http.get(`${_}v2/api/${h}/order/${this.orderId}`).then(r=>{this.order=r.data.order})},payOrder(){this.$http.post(`${_}v2/api/${h}/pay/${this.orderId}`).then(()=>{this.getCarts(),I.fire({position:"top-center",icon:"success",title:"付款完成",showConfirmButton:!1,timer:1500}),this.$router.push({path:"/cart/completeOrder",query:{orderId:this.order.id,orderData:JSON.stringify(this.order)}})}).catch(r=>{this.isLoading=!1,this.$httpMessageState(r.response,"錯誤訊息")})}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},o=r=>(y("data-v-2d14cddf"),r=r(),g(),r),O={class:"container my-5 row justify-content-center"},S={class:"row"},V={class:"col-lg-6"},k={class:"row"},C=o(()=>t("div",{class:"col-3 text-start"},[e(" 姓名 "),t("hr"),e(" Email "),t("hr"),e(" 電話 "),t("hr"),e(" 地址 "),t("hr"),e(" 付款狀態 ")],-1)),E={class:"col-9 text-start"},T=o(()=>t("hr",null,null,-1)),b=o(()=>t("hr",null,null,-1)),$=o(()=>t("hr",null,null,-1)),j=o(()=>t("hr",null,null,-1)),B={key:0},N={key:1,class:"text-success"},D={class:"col-lg-6 mt-5 mt-lg-0"},L=o(()=>t("div",null,[t("div",{class:"row"},[t("div",{class:"col-5 ms-auto"},"品名"),t("div",{class:"col-2"},"數量"),t("div",{class:"col-2"},"單價")])],-1)),A=o(()=>t("hr",null,null,-1)),R={class:"col-3"},U=["src"],q={class:"col-5 d-flex align-items-center justify-content-center"},M={class:"col-2 d-flex align-items-center justify-content-center"},P={class:"col-2 d-flex align-items-center justify-content-center"},F=o(()=>t("hr",null,null,-1)),H={class:"row"},J=o(()=>t("div",{class:"col-2 ms-auto"},"總計:",-1)),z={class:"col-2 d-flex align-items-center justify-content-center"},G={key:0,class:"text-end mt-3"};function K(r,l,Q,W,c,a){return n(),i("div",O,[t("div",S,[t("div",V,[t("div",k,[C,t("div",E,[e(s(c.order.user.name)+" ",1),T,e(" "+s(c.order.user.email)+" ",1),b,e(" "+s(c.order.user.tel)+" ",1),$,e(" "+s(c.order.user.address)+" ",1),j,c.order.is_paid?(n(),i("span",N,"付款完成")):(n(),i("span",B,"尚未付款"))])])]),t("div",D,[L,A,t("div",null,[(n(!0),i(m,null,f(c.order.products,d=>(n(),i("div",{class:"row mb-2",key:d.id},[t("div",R,[t("img",{style:{width:"60px"},src:d.product.imageUrl,alt:""},null,8,U)]),t("div",q,s(d.product.title),1),t("div",M,s(d.qty)+"/"+s(d.product.unit),1),t("div",P," $NT"+s(d.final_total),1)]))),128)),F,t("div",H,[J,t("div",z," $NT"+s(c.order.total),1)]),c.order.is_paid===!1?(n(),i("div",G,[t("button",{class:"btn text-myColor btn-myBgMain border-myColor",onClick:l[0]||(l[0]=(...d)=>a.payOrder&&a.payOrder(...d))}," 確認付款去 ")])):v("",!0)])])])])}const tt=u(w,[["render",K],["__scopeId","data-v-2d14cddf"]]);export{tt as default};
