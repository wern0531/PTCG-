import{_ as y,a as f,c as n,e as b,w as x,b as t,t as c,u as C,v as w,F as _,j as I,r as P,o as l,p as T,f as L,l as a}from"./index-6a9e099d.js";import{c as V}from"./cart-17fc04f2.js";import{S as p}from"./sweetalert2.all-46983b9e.js";import{_ as k}from"./pikachu_gif-ecacffd9.js";const{VITE_URL:h,VITE_PATH:m}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/PTCGTrainerWeb/",MODE:"production",DEV:!1,PROD:!0},E={data(){return{isLoading:!1,qty:1,products:[],product:{},category:"",loadingItem:""}},methods:{...f(V,["addToCart"]),getProducts(e){this.products=[],this.$http.get(`${h}/v2/api/${m}/products/all`).then(o=>{o.data.products.forEach(d=>{d.category===e&&d.id!==this.product.id&&this.products.push(d)}),this.isLoading=!1}).catch(o=>{this.isLoading=!1,p.fire({icon:"error",title:"Oops...",text:`${o.response.data.message}`})})},getProduct(){this.isLoading=!0;const{id:e}=this.$route.params;this.$http.get(`${h}/v2/api/${m}/product/${e}`).then(o=>{this.product=o.data.product,this.category=this.product.category,this.getProducts(this.category)}).catch(o=>{this.isLoading=!1,p.fire({icon:"error",title:"Oops...",text:`${o.response.data.message}`})})},changeProduct(e){this.$router.push(`/product/${e}`).then(()=>{this.getProduct()})}},computed:{filteredProducts(){return this.products.slice(0,4)}},mounted(){this.getProduct()}},r=e=>(T("data-v-d85ad0d8"),e=e(),L(),e),S=r(()=>t("div",{class:"loadingGif"},[t("img",{src:k,alt:"會動的皮卡丘過場圖"})],-1)),q={class:"container pt-5"},B={class:"pt-5 d-flex flex-column flex-lg-row align-items-center"},U={class:"mainImg"},D=["src"],A={class:"ms-5 text-start"},M={class:"my-4"},N={class:"row mb-4"},O=r(()=>t("div",{class:"col-4"},"商品說明:",-1)),R={class:"col-8"},F={class:"row"},G=r(()=>t("div",{class:"col-4"},"商品描述:",-1)),H={class:"col-8"},$={class:"row mt-4 align-items-end"},j={class:"col-5 col-lg-6"},z={class:"input-group"},W=["disabled"],J=["disabled"],K={class:"col-5 col-lg-4"},Q=r(()=>t("div",{class:"text-start my-4"},[a(" 本網站商品皆為正版"),t("br"),a(" 為保障你我權益，貨到拆封請全程錄影"),t("br"),a(" 商品於七日內附上影片方可退貨 ")],-1)),X={class:"my-4 text-center"},Y={class:"row d-flex flex-column flex-lg-row align-items-center"},Z=["onClick"],tt=["src"],st={class:"mt-2"},ot={class:"mt-2"},et=["onClick"];function it(e,o,d,ct,s,u){const g=P("LoadingItem");return l(),n(_,null,[b(g,{active:s.isLoading,"z-index":1060},{default:x(()=>[S]),_:1},8,["active"]),t("div",q,[t("div",B,[t("div",U,[t("img",{style:{width:"100%"},src:s.product.imageUrl,alt:""},null,8,D)]),t("div",A,[t("h1",null,c(s.product.title),1),t("div",M,"NT$ "+c(s.product.price),1),t("div",N,[O,t("div",R,c(s.product.content),1)]),t("div",F,[G,t("div",H,c(s.product.description),1)]),t("div",$,[t("div",j,[t("div",z,[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:o[0]||(o[0]=i=>s.qty>1?s.qty-=1:null),disabled:s.product.id===s.loadingItem}," - ",8,W),C(t("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[1]||(o[1]=i=>s.qty=i),min:"0",disabled:""},null,512),[[w,s.qty,void 0,{number:!0}]]),t("button",{class:"btn btn-outline-secondary",type:"button",onClick:o[2]||(o[2]=i=>s.qty+=1),disabled:s.product.id===s.loadingItem}," + ",8,J)])]),t("div",K,[t("button",{class:"btn btn-myBgMain text-myColor border-myColor",onClick:o[3]||(o[3]=i=>e.addToCart(s.product.id,s.product.title))}," 加入購物車 ")])])])]),Q,t("div",X,"選購更多"+c(s.product.category),1),t("div",Y,[(l(!0),n(_,null,I(u.filteredProducts,i=>(l(),n("div",{class:"col-lg-3 moreImg",key:i.id},[t("div",{class:"hover",style:{cursor:"pointer"},onClick:v=>u.changeProduct(i.id)},[t("img",{class:"w-100",src:i.imageUrl,alt:""},null,8,tt)],8,Z),t("div",st,c(i.title),1),t("div",ot,[t("button",{class:"btn btn-myBgMain text-myColor border-myColor",onClick:v=>e.addToCart(i.id,i.title)}," 加入購物車 ",8,et)])]))),128))])])],64)}const at=y(E,[["render",it],["__scopeId","data-v-d85ad0d8"]]);export{at as default};
