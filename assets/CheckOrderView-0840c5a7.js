import{_ as v,a as f,c as d,b as t,f as c,t as r,F as h,l as y,s as u,o as n,p as g,g as x}from"./index-a4e551d4.js";import{c as w}from"./cart-f636102a.js";import{S as l}from"./sweetalert2.all-45b60153.js";const{VITE_URL:p,VITE_PATH:m}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/PTCGTrainerWeb/",MODE:"production",DEV:!1,PROD:!0},I={data(){return{carts:[],order:[],orderId:""}},methods:{...f(w,["getCarts"]),getOrder(){this.$http.get(`${p}v2/api/${m}/order/${this.orderId}`).then(s=>{this.order=s.data.order}).catch(s=>{l.fire({icon:"error",title:"Oops...",text:`${s.response.data.message}`})})},payOrder(){this.$http.post(`${p}v2/api/${m}/pay/${this.orderId}`).then(()=>{l.fire({icon:"success",title:"付款完成",showConfirmButton:!0,timer:1500}).then(()=>{this.getCarts(),this.$router.push({path:"/cart/completeOrder",query:{orderId:this.order.id,orderData:JSON.stringify(this.order)}})})}).catch(s=>{this.isLoading=!1,l.fire({icon:"error",title:"Oops...",text:`${s}.response.data.message`})})}},created(){this.orderId=this.$route.params.orderId,this.getOrder()},mounted(){window.scrollTo(0,0)}},e=s=>(g("data-v-953eb5a5"),s=s(),x(),s),O=e(()=>t("div",null,"訂單資訊",-1)),T=e(()=>t("hr",null,null,-1)),b={key:0,class:"container justify-content-center"},k={class:"row"},C={class:"col-lg-6"},V={class:"row"},E=e(()=>t("div",{class:"col-3 text-start"},[c(" 姓名 "),t("hr"),c(" Email "),t("hr"),c(" 電話 "),t("hr"),c(" 地址 "),t("hr"),c(" 付款狀態 ")],-1)),S={class:"col-9 text-start"},$=e(()=>t("hr",null,null,-1)),B=e(()=>t("hr",null,null,-1)),N=e(()=>t("hr",null,null,-1)),j=e(()=>t("hr",null,null,-1)),D={key:0},L={key:1,class:"text-success"},A={class:"col-lg-6 mt-5 mt-lg-0"},P=e(()=>t("div",null,[t("div",{class:"row"},[t("div",{class:"col-4 ms-auto"},"品名"),t("div",{class:"col-3"},"數量"),t("div",{class:"col-2"},"單價")])],-1)),R=e(()=>t("hr",null,null,-1)),U={class:"col-3"},q=["src"],F={class:"col-4 d-flex align-items-center justify-content-center"},H={class:"col-3 d-flex align-items-center justify-content-center"},M={class:"col-2 d-flex align-items-center justify-content-center"},G=e(()=>t("hr",null,null,-1)),J={class:"row"},W=e(()=>t("div",{class:"col-3 ms-auto"},"總計:",-1)),z={class:"col-2 d-flex align-items-center justify-content-center"},K={key:0,class:"text-end mt-3"};function Q(s,a,X,Y,o,_){return n(),d(h,null,[O,T,o.order.id?(n(),d("div",b,[t("div",k,[t("div",C,[t("div",V,[E,t("div",S,[c(r(o.order.user.name)+" ",1),$,c(" "+r(o.order.user.email)+" ",1),B,c(" "+r(o.order.user.tel)+" ",1),N,c(" "+r(o.order.user.address)+" ",1),j,o.order.is_paid?(n(),d("span",L,"付款完成")):(n(),d("span",D,"尚未付款"))])])]),t("div",A,[P,R,t("div",null,[(n(!0),d(h,null,y(o.order.products,i=>(n(),d("div",{class:"row mb-2",key:i.id},[t("div",U,[t("img",{style:{width:"60px"},src:i.product.imageUrl,alt:"商品圖片"},null,8,q)]),t("div",F,r(i.product.title),1),t("div",H,r(i.qty)+"/"+r(i.product.unit),1),t("div",M," $NT"+r(i.final_total),1)]))),128)),G,t("div",J,[W,t("div",z," $NT"+r(o.order.total),1)]),o.order.is_paid===!1?(n(),d("div",K,[t("button",{class:"btn text-myColor btn-myBgMain border-myColor",onClick:a[0]||(a[0]=(...i)=>_.payOrder&&_.payOrder(...i))}," 確認付款去 ")])):u("",!0)])])])])):u("",!0)],64)}const st=v(I,[["render",Q],["__scopeId","data-v-953eb5a5"]]);export{st as default};
