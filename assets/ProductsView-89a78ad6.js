import{_ as x,o as n,c as r,a as t,n as g,g as p,F as u,h as P,t as _,b as k,w as b,f as m,i as v,j as C,r as y,p as w,d as T}from"./index-7fde9863.js";const V={props:["pages"],methods:{updatePage(s){this.$emit("emitPages",s)}}},I={"aria-label":"Page navigation example"},L={class:"pagination justify-content-center"},E=t("span",{"aria-hidden":"true"},"«",-1),z=[E],B={key:0,class:"page-link"},F=["onClick"],O=t("span",{"aria-hidden":"true"},"»",-1),$=[O];function S(s,e,o,f,l,a){return n(),r("nav",I,[t("ul",L,[t("li",{class:g([{disabled:!o.pages.has_pre},"page-item"])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=p(i=>a.updatePage(o.pages.current_page-1),["prevent"]))},z)],2),(n(!0),r(u,null,P(o.pages.total_pages,i=>(n(),r("li",{class:g(["page-item",{active:o.pages.current_page===i}]),key:i},[i===o.pages.current_page?(n(),r("span",B,_(i),1)):(n(),r("a",{key:1,class:"page-link",href:"#",onClick:p(h=>a.updatePage(i),["prevent"])},_(i),9,F))],2))),128)),t("li",{class:g(["page-item",{disabled:!o.pages.has_next}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=p(i=>a.updatePage(o.pages.current_page+1),["prevent"]))},$)],2)])])}const A=x(V,[["render",S]]),D="/PTCGTrainerWeb/assets/pikachu_gif-209dc933.gif";const{VITE_URL:j,VITE_PATH:G}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/PTCGTrainerWeb/",MODE:"production",DEV:!1,PROD:!0},N={data(){return{isLoading:!1,products:[],productCategory:[],category:"",pagination:{},page:1}},methods:{getProducts(s,e=1){this.isLoading=!0,this.page=e,this.category=s,this.$http.get(`${j}/v2/api/${G}/products/?page=${e}`).then(o=>{this.products=o.data.products,this.pagination=o.data.pagination,s==="全部商品"?this.productCategory=this.products:this.getCategory(s),this.isLoading=!1})},getCategory(s){this.productCategory=[],this.products.forEach(e=>{e.category===s&&this.productCategory.push(e)})}},components:{Pagination:A},mounted(){console.log(this.$route.params),this.category=this.$route.params.category,this.getProducts(this.category)}},d=s=>(w("data-v-92ca128a"),s=s(),T(),s),U=d(()=>t("div",{class:"loadingGif"},[t("img",{src:D,alt:""})],-1)),W=d(()=>t("img",{class:"d-block w-100",src:"https://storage.googleapis.com/vue-course-api.appspot.com/wern/1676997146858.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=gbw08XkxL8gSSVkD2k2Dx6zl%2BCqCfBHn3PXdhQb6GBgke3r8XFYzr3at35VvA%2Fbf64WFwG6Hoztflt1lkIPz1PLhKaEeiyQXFJhI0WopbhvO8cozCBPESdXYPhnJqPNssLx7PH47YUWZUQ38tO8v3Q1iS6xG7x2nRAn8OCN3WaS3rgqFspRrTDyvz7jCxZJ1BJlbbcVFF5OJ9ITmsU3ovhAJrh0KVLMGOHzcU%2FwyBhsZ3WxJkUOuehJkOWYbTI%2F1PAjn9ejjz7QZTmQlmEOtVq8MEmQdsrHTnx5OgRKmf%2Bl1IxVwn9pdzAt3WGg2o7NVxQL3TL74TOjZDmA2i%2FIjFw%3D%3D",alt:""},null,-1)),J={class:"container"},Q={class:"row"},H={class:"col-3"},R={class:"w-100 pt-3 text-center d-flex flex-column productBtnList"},X=d(()=>t("p",null,"全部商品",-1)),Z=[X],q=d(()=>t("p",null,"單卡",-1)),M=[q],Y=d(()=>t("p",null,"牌組",-1)),K=[Y],tt=d(()=>t("p",null,"禮盒",-1)),et=[tt],st=d(()=>t("p",null,"周邊",-1)),ot=[st],at={class:"col-9"},it={class:"pt-3 text-start d-flex"},nt={key:0},ct={class:"row"},rt={class:"pt-3 card productCard"},dt={class:"text-center"},lt=["src"],_t={class:"py-3",style:{width:"176px",margin:"0 auto"}},gt={class:"pb-3 text-start text-white"},pt={class:"pb-3 text-start text-white"},ut=d(()=>t("button",{class:"btn"},[t("p",null,"加入購物車")],-1));function ht(s,e,o,f,l,a){const i=y("LoadingItem"),h=y("Pagination");return n(),r(u,null,[k(i,{active:l.isLoading,"z-index":1060},{default:b(()=>[U]),_:1},8,["active"]),W,t("div",J,[t("div",Q,[t("div",H,[t("ul",R,[t("li",{type:"button",class:"btn",onClick:e[0]||(e[0]=c=>a.getProducts("全部商品"))},Z),t("li",{type:"button",class:"btn",onClick:e[1]||(e[1]=c=>a.getProducts("單卡"))},M),t("li",{type:"button",class:"btn",onClick:e[2]||(e[2]=c=>a.getProducts("牌組"))},K),t("li",{type:"button",class:"btn",onClick:e[3]||(e[3]=c=>a.getProducts("禮盒"))},et),t("li",{type:"button",class:"btn",onClick:e[4]||(e[4]=c=>a.getProducts("周邊"))},ot)])]),t("div",at,[t("div",it,[m("全部商品"),l.category?(n(),r("div",nt,"/")):v("",!0),m(" "+_(l.category),1)]),t("div",ct,[(n(!0),r(u,null,P(l.productCategory,c=>(n(),r("div",{class:"col-4 p-3",key:c.id},[t("div",rt,[t("div",dt,[t("img",{style:{"max-width":"70%",height:"auto"},src:c.imageUrl,class:"card-img-top",alt:"..."},null,8,lt)]),t("div",_t,[t("div",gt,_(c.title),1),t("div",pt," $NT"+_(c.price),1),ut])])]))),128))]),l.category=="全部商品"?(n(),C(h,{key:0,pages:l.pagination,onEmitPages:a.getProducts},null,8,["pages","onEmitPages"])):v("",!0)])])])],64)}const vt=x(N,[["render",ht],["__scopeId","data-v-92ca128a"]]);export{vt as default};
