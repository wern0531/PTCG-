import{_ as S,r as l,s as D,D as U,E as A,c as v,e as $,d as t,t as i,x as M,G as N,A as k,u as d,f as p,F as E,v as O,g as z,j as F,l as P,a as G,b as m,w as H,p as j,i as q}from"./index-e5169fb6.js";import{_ as W}from"./LoadingComponent-6b182e6d.js";import{c as J}from"./cart-026ac3f0.js";import{S as B}from"./sweetalert2.all-66feddcb.js";import"./pikachu_gif-ecacffd9.js";const u=_=>(j("data-v-89a7cbac"),_=_(),q(),_),K={key:0,class:"container"},Q={class:"pt-5"},X={class:"row flex-column flex-lg-row align-items-center"},Y={class:"col-lg-7"},Z={class:"mainImg"},tt=["src"],st={class:"col-lg-5"},et={class:"ms-lg-5 mt-3 mt-lg-0 text-lg-start"},ot={class:"my-4"},lt={class:"row mb-4"},at=u(()=>t("div",{class:"col-6 col-lg-4"},"商品說明:",-1)),ct={class:"col-6 col-lg-8"},it={class:"row"},nt=u(()=>t("div",{class:"col-6 col-lg-4"},"商品描述:",-1)),rt={class:"col-6 col-lg-8"},dt={class:"row mt-4"},ut={class:"col-6"},_t={class:"input-group mx-auto m-lg-0 w-75"},vt={class:"col-6"},mt=u(()=>t("div",{class:"text-start ms-5 mt-5"},[p(" 本網站商品皆為正版"),t("br"),p(" 為保障你我權益，貨到拆封請全程錄影"),t("br"),p(" 商品於七日內附上影片方可退貨 ")],-1)),pt={class:"my-4 text-center"},gt=u(()=>t("br",null,null,-1)),ht=u(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4z"})],-1)),bt={class:"row d-flex flex-column flex-md-row align-items-center"},ft=["src"],wt={class:"pt-2 bg-myBgCard"},yt={class:"pt-2 bg-myBgCard rounded-bottom"},xt=["onClick"],Ct={__name:"ProductView",setup(_){const a=l(1),h=J(),{addToCart:b}=h,{isDisable:f}=D(h),w=l(!1),n=l(!1),g=l([]),e=l({}),y=l(""),{VITE_URL:x,VITE_PATH:C}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/PTCGTrainerWeb/",MODE:"production",DEV:!1,PROD:!0},T=F(),I=l(T.params.id);U(()=>T.params.id,()=>{V()});const V=()=>{n.value=!0,P.get(`${x}/v2/api/${C}/product/${I.value}`).then(c=>{window.scrollTo(0,0),e.value=c.data.product,y.value=e.value.category,R(y)}).catch(c=>{n.value=!1,B.fire({backdrop:!1,icon:"error",title:"Oops...",text:`${c.response.data.message}`})})};V();const R=c=>{g.value=[],P.get(`${x}/v2/api/${C}/products/all`).then(s=>{s.data.products.forEach(r=>{r.category===c.value&&r.id!==e.value.id&&g.value.push(r)}),w.value=!0,n.value=!1}).catch(s=>{n.value=!1,B.fire({backdrop:!1,icon:"error",title:"Oops...",text:`${s.response.data.message}`})})},L=A(()=>g.value.slice(0,4));return(c,s)=>{const r=G("RouterLink");return m(),v(E,null,[$(W,{"is-loading":n.value},null,8,["is-loading"]),w.value?(m(),v("div",K,[t("div",Q,[t("div",X,[t("div",Y,[t("div",Z,[t("img",{style:{width:"100%"},src:e.value.imageUrl,alt:"單一產品圖片"},null,8,tt)])]),t("div",st,[t("div",et,[t("h1",null,i(e.value.title),1),t("div",ot,"NT$ "+i(e.value.price),1),t("div",lt,[at,t("div",ct,i(e.value.content),1)]),t("div",it,[nt,t("div",rt,i(e.value.description),1)]),t("div",dt,[t("div",ut,[t("div",_t,[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[0]||(s[0]=o=>a.value>1?a.value-=1:null)}," - "),M(t("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":s[1]||(s[1]=o=>a.value=o),min:"0",disabled:""},null,512),[[N,a.value,void 0,{number:!0}]]),t("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[2]||(s[2]=o=>a.value+=1)}," + ")])]),t("div",vt,[t("button",{class:k([{disabled:d(f)},"btn btn-myBgMain text-myColor border-myColor"]),onClick:s[3]||(s[3]=o=>d(b)(e.value.id,e.value.title,a.value))}," 加入購物車 ",2)])])]),mt])])]),t("div",pt,[p(" 選購更多"+i(e.value.category)+" ",1),gt,ht]),t("div",bt,[(m(!0),v(E,null,O(d(L),o=>(m(),v("div",{class:"col-md-6 col-lg-3 mb-4 m-lg-0",key:o.id},[$(r,{style:{cursor:"pointer"},to:`/product/${o.id}`},{default:H(()=>[t("img",{class:"w-100",src:o.imageUrl,alt:"更多產品圖片"},null,8,ft),t("div",wt,i(o.title),1)]),_:2},1032,["to"]),t("div",yt,[t("button",{class:k([{disabled:d(f)},"w-100 btn btn-myBgMain text-myColor border-myColor"]),onClick:Tt=>d(b)(o.id,o.title)}," 加入購物車 ",10,xt)])]))),128))])])):z("",!0)],64)}}},Bt=S(Ct,[["__scopeId","data-v-89a7cbac"]]);export{Bt as default};
