import{_ as S,r as a,s as D,D as R,c as _,e as L,d as t,t as c,x as U,E as A,A as T,u as r,f as m,F as V,v as M,g as N,j as O,l as $,b as v,p as z,i as F}from"./index-e70cc059.js";import{_ as H}from"./LoadingComponent-373f4853.js";import{c as j}from"./cart-c39e7dc2.js";import{S as k}from"./sweetalert2.all-5c73a78b.js";import"./pikachu_gif-ecacffd9.js";const d=u=>(z("data-v-9863c09f"),u=u(),F(),u),q={key:0,class:"container"},G={class:"pt-5"},W={class:"row flex-column flex-lg-row align-items-center"},J={class:"col-lg-7"},K={class:"mainImg"},Q=["src"],X={class:"col-lg-5"},Y={class:"ms-lg-5 mt-3 mt-lg-0 text-lg-start"},Z={class:"my-4"},tt={class:"row mb-4"},st=d(()=>t("div",{class:"col-6 col-lg-4"},"商品說明:",-1)),et={class:"col-6 col-lg-8"},ot={class:"row"},lt=d(()=>t("div",{class:"col-6 col-lg-4"},"商品描述:",-1)),at={class:"col-6 col-lg-8"},ct={class:"row mt-4"},it={class:"col-6"},nt={class:"input-group mx-auto m-lg-0 w-75"},rt={class:"col-6"},dt=d(()=>t("div",{class:"text-start ms-5 mt-5"},[m(" 本網站商品皆為正版"),t("br"),m(" 為保障你我權益，貨到拆封請全程錄影"),t("br"),m(" 商品於七日內附上影片方可退貨 ")],-1)),ut={class:"my-4 text-center"},_t=d(()=>t("br",null,null,-1)),vt=d(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4z"})],-1)),mt={class:"row d-flex flex-column flex-md-row align-items-center"},pt=["onClick"],gt=["src"],ht={class:"pt-2 bg-myBgCard"},ft={class:"pt-2 bg-myBgCard rounded-bottom"},bt=["onClick"],wt={__name:"ProductView",setup(u){const l=a(1),h=j(),{addToCart:f}=h,{isDisable:b}=D(h),p=a(!1),i=a(!1),g=a([]),o=a({}),w=a(""),{VITE_URL:y,VITE_PATH:x}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/PTCGTrainerWeb/",MODE:"production",DEV:!1,PROD:!0},E=O(),C=(n=E.params.id)=>{i.value=!0,p.value=!1,window.scrollTo(0,0),console.log(n),$.get(`${y}/v2/api/${x}/product/${n}`).then(s=>{o.value=s.data.product,w.value=o.value.category,P(w)}).catch(s=>{i.value=!1,k.fire({backdrop:!1,icon:"error",title:"Oops...",text:`${s.response.data.message}`})})};C();const P=n=>{g.value=[],$.get(`${y}/v2/api/${x}/products/all`).then(s=>{s.data.products.forEach(e=>{e.category===n.value&&e.id!==o.value.id&&g.value.push(e)}),p.value=!0,i.value=!1}).catch(s=>{i.value=!1,k.fire({backdrop:!1,icon:"error",title:"Oops...",text:`${s.response.data.message}`})})},B=R(()=>g.value.slice(0,4));return(n,s)=>(v(),_(V,null,[L(H,{"is-loading":i.value},null,8,["is-loading"]),p.value?(v(),_("div",q,[t("div",G,[t("div",W,[t("div",J,[t("div",K,[t("img",{style:{width:"100%"},src:o.value.imageUrl,alt:"單一產品圖片"},null,8,Q)])]),t("div",X,[t("div",Y,[t("h1",null,c(o.value.title),1),t("div",Z,"NT$ "+c(o.value.price),1),t("div",tt,[st,t("div",et,c(o.value.content),1)]),t("div",ot,[lt,t("div",at,c(o.value.description),1)]),t("div",ct,[t("div",it,[t("div",nt,[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[0]||(s[0]=e=>l.value>1?l.value-=1:null)}," - "),U(t("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":s[1]||(s[1]=e=>l.value=e),min:"0",disabled:""},null,512),[[A,l.value,void 0,{number:!0}]]),t("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[2]||(s[2]=e=>l.value+=1)}," + ")])]),t("div",rt,[t("button",{class:T([{disabled:r(b)},"btn btn-myBgMain text-myColor border-myColor"]),onClick:s[3]||(s[3]=e=>r(f)(o.value.id,o.value.title,l.value))}," 加入購物車 ",2)])])]),dt])])]),t("div",ut,[m(" 選購更多"+c(o.value.category)+" ",1),_t,vt]),t("div",mt,[(v(!0),_(V,null,M(r(B),e=>(v(),_("div",{class:"col-md-6 col-lg-3 mb-4 m-lg-0",key:e.id},[t("div",{style:{cursor:"pointer"},onClick:I=>C(e.id)},[t("img",{class:"w-100",src:e.imageUrl,alt:"更多產品圖片"},null,8,gt)],8,pt),t("div",ht,c(e.title),1),t("div",ft,[t("button",{class:T([{disabled:r(b)},"w-100 btn btn-myBgMain text-myColor border-myColor"]),onClick:I=>r(f)(e.id,e.title)}," 加入購物車 ",10,bt)])]))),128))])])):N("",!0)],64))}},$t=S(wt,[["__scopeId","data-v-9863c09f"]]);export{$t as default};
