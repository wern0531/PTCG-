import{_ as f,a as b,c as r,e as a,w as u,b as t,t as c,u as x,v as w,F as _,j as C,r as p,o as d,p as I,f as P}from"./index-0b4f1efa.js";import{c as T}from"./cart-781fe89f.js";import{_ as k}from"./pikachu_gif-ecacffd9.js";import"./sweetalert2.all-d0bba2b2.js";const{VITE_URL:m,VITE_PATH:h}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/PTCGTrainerWeb/",MODE:"production",DEV:!1,PROD:!0},L={data(){return{isLoading:!1,qty:1,products:[],product:{},category:"",loadingItem:""}},methods:{...b(T,["addToCart"]),getProducts(e){this.products=[],this.$http.get(`${m}/v2/api/${h}/products`).then(s=>{s.data.products.forEach(n=>{n.category===e&&n.id!==this.product.id&&this.products.push(n)}),this.isLoading=!1})},getProduct(){this.isLoading=!0;const{id:e}=this.$route.params;this.$http.get(`${m}/v2/api/${h}/product/${e}`).then(s=>{this.product=s.data.product,this.category=this.product.category,this.getProducts(this.category)})}},computed:{filteredProducts(){return this.products.slice(0,4)}},watch:{"$route.params":{handler(){this.getProduct()}}},mounted(){this.getProduct()}},l=e=>(I("data-v-f12c614e"),e=e(),P(),e),V=l(()=>t("div",{class:"loadingGif"},[t("img",{src:k,alt:""})],-1)),E={class:"container pt-5"},q={class:"pt-5 d-flex flex-column flex-lg-row align-items-center"},B={class:"mainImg"},S=["src"],U={class:"ms-5 text-start"},D={class:"my-4"},A={class:"row mb-4"},M=l(()=>t("div",{class:"col-4"},"商品說明:",-1)),R={class:"col-8"},N={class:"row"},F=l(()=>t("div",{class:"col-4"},"商品描述:",-1)),G={class:"col-8"},H={class:"row mt-4 align-items-end"},O={class:"col-5 col-lg-6"},j={class:"input-group"},z=["disabled"],W=["disabled"],J={class:"col-5 col-lg-4"},K={class:"my-4 text-center"},Q={class:"row d-flex flex-column flex-lg-row align-items-center"},X=["src"],Y={class:"mt-2"},Z=["onClick"];function $(e,s,n,tt,o,g){const v=p("LoadingItem"),y=p("router-link");return d(),r(_,null,[a(v,{active:o.isLoading,"z-index":1060},{default:u(()=>[V]),_:1},8,["active"]),t("div",E,[t("div",q,[t("div",B,[t("img",{style:{width:"100%"},src:o.product.imageUrl,alt:""},null,8,S)]),t("div",U,[t("h1",null,c(o.product.title),1),t("div",D,"$NT"+c(o.product.price),1),t("div",A,[M,t("div",R,c(o.product.content),1)]),t("div",N,[F,t("div",G,c(o.product.description),1)]),t("div",H,[t("div",O,[t("div",j,[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[0]||(s[0]=i=>o.qty>1?o.qty-=1:null),disabled:o.product.id===o.loadingItem}," - ",8,z),x(t("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":s[1]||(s[1]=i=>o.qty=i),min:"0",disabled:""},null,512),[[w,o.qty,void 0,{number:!0}]]),t("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[2]||(s[2]=i=>o.qty+=1),disabled:o.product.id===o.loadingItem}," + ",8,W)])]),t("div",J,[t("button",{class:"btn btn-myBgMain text-myColor border-myColor",onClick:s[3]||(s[3]=i=>e.addToCart(o.product.id,o.product.title))}," 加入購物車 ")])])])]),t("div",K,"選購更多"+c(o.product.category),1),t("div",Q,[(d(!0),r(_,null,C(g.filteredProducts,i=>(d(),r("div",{class:"col-lg-3 moreImg",key:i.id},[a(y,{to:`/product/${i.id}`,class:"hover-pointer"},{default:u(()=>[t("img",{class:"w-100",src:i.imageUrl,alt:""},null,8,X)]),_:2},1032,["to"]),t("div",Y,[t("button",{class:"btn btn-myBgMain text-myColor border-myColor",onClick:ot=>e.addToCart(i.id,i.title)},"加入購物車",8,Z)])]))),128))])])],64)}const nt=f(L,[["render",$],["__scopeId","data-v-f12c614e"]]);export{nt as default};
