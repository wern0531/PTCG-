import{_ as C,a as L,c as l,e as _,w as h,b as t,q as c,f as P,t as p,s as g,F as m,l as k,d as T,r as u,o as d,u as E,p as V,g as I}from"./index-7ba7e1c6.js";import{c as S}from"./cart-c5e699fb.js";import{S as f}from"./sweetalert2.all-e9be79ae.js";import{P as B}from"./PaginationComponent-95e66840.js";import{_ as D}from"./pikachu_gif-ecacffd9.js";const{VITE_URL:y,VITE_PATH:x}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/PTCGTrainerWeb/",MODE:"production",DEV:!1,PROD:!0},R={data(){return{isLoading:!1,fullPage:!1,products:[],productCategory:[],category:"",pagination:{},page:1}},computed:{isDisable(){return this.$pinia.state.value.cart.isDisable}},methods:{...L(S,["addToCart"]),getProducts(o=1,e="全部商品"){this.isLoading=!0,this.page=o,this.category=e,this.$http.get(`${y}/v2/api/${x}/products/?page=${o}`).then(n=>{this.products=n.data.products,this.pagination=n.data.pagination,e==="全部商品"?(this.productCategory=this.products,this.isLoading=!1,window.scrollTo(0,0)):this.getCategory(e)}).catch(n=>{this.isLoading=!1,f.fire({icon:"error",title:"Oops...",text:`${n.response.data.message}`})})},getCategory(o){this.$http.get(`${y}/v2/api/${x}/products/all`).then(e=>{this.productCategory=[],e.data.products.forEach(n=>{n.category===o&&this.productCategory.push(n)}),this.isLoading=!1}).catch(e=>{this.isLoading=!1,f.fire({icon:"error",title:"Oops...",text:`${e.response.data.message}`})})}},components:{Pagination:B},mounted(){window.scrollTo(0,0),this.category=this.$route.params.category,this.getProducts(void 0,this.category)}},a=o=>(V("data-v-47b8be53"),o=o(),I(),o),$=a(()=>t("div",{class:"loadingGif"},[t("img",{src:D,alt:"會動的皮卡丘過場圖"})],-1)),N={class:"container"},A={class:"row d-flex flex-column flex-lg-row"},O={class:"col-lg-3"},U={class:"w-100 pt-3 text-center d-flex flex-column productBtnList"},j=a(()=>t("p",null,"全部商品",-1)),z=[j],F=a(()=>t("p",null,"單卡",-1)),G=[F],H=a(()=>t("p",null,"牌組",-1)),M=[H],W=a(()=>t("p",null,"禮盒",-1)),q=[W],J=a(()=>t("p",null,"周邊",-1)),K=[J],Q={class:"col-lg-9"},X={class:"pt-3 d-flex justify-content-center justify-content-lg-start text-white"},Y={key:0},Z={class:"row productCardWrap"},tt={class:"pt-3 card productCard"},et={class:"text-center"},st=["src"],ot={class:"py-3",style:{width:"176px",margin:"0 auto"}},it={class:"pb-3 text-start text-white"},nt={class:"pb-3 text-start text-white"},rt={class:"d-flex justify-content-center"},at=["onClick"],ct=a(()=>t("p",null,"加入購物車",-1)),dt=[ct];function lt(o,e,n,pt,i,r){const v=u("LoadingItem"),b=u("RouterLink"),w=u("Pagination");return d(),l(m,null,[_(v,{active:i.isLoading,"z-index":1060},{default:h(()=>[$]),_:1},8,["active"]),t("div",N,[t("div",A,[t("div",O,[t("ul",U,[t("li",{type:"button",class:"btn text-myColor productsList",onClick:e[0]||(e[0]=s=>r.getProducts("全部商品"))},z),t("li",{type:"button",class:c(["btn border-white productList",i.category==="單卡"?"text-myColor":"text-white"]),onClick:e[1]||(e[1]=s=>r.getProducts(void 0,"單卡"))},G,2),t("li",{type:"button",class:c(["btn border-white productList",i.category==="牌組"?"text-myColor":"text-white"]),onClick:e[2]||(e[2]=s=>r.getProducts(void 0,"牌組"))},M,2),t("li",{type:"button",class:c(["btn border-white productList",i.category==="禮盒"?"text-myColor":"text-white"]),onClick:e[3]||(e[3]=s=>r.getProducts(void 0,"禮盒"))},q,2),t("li",{type:"button",class:c(["btn border-white productList",i.category==="周邊"?"text-myColor":"text-white"]),onClick:e[4]||(e[4]=s=>r.getProducts(void 0,"周邊"))},K,2)])]),t("div",Q,[t("div",X,[P(" 全部商品 "),i.category!=="全部商品"?(d(),l("div",Y,"/"+p(i.category),1)):g("",!0)]),t("div",Z,[(d(!0),l(m,null,k(i.productCategory,s=>(d(),l("div",{class:"col-lg-4 p-3",key:s.id},[t("div",tt,[_(b,{to:`/product/${s.id}`,class:"hover-pointer text-decoration-none"},{default:h(()=>[t("div",et,[t("img",{style:{"max-width":"70%",height:"auto"},src:s.imageUrl,class:"card-img-top",alt:"商品圖片"},null,8,st)]),t("div",ot,[t("div",it,p(s.title),1),t("div",nt," NT$ "+p(s.price),1)])]),_:2},1032,["to"]),t("div",rt,[t("button",{class:c([{disabled:r.isDisable},"btn text-myColor productBtn"]),onClick:E(ut=>o.addToCart(s.id,s.title),["prevent"])},dt,10,at)])])]))),128))]),i.category=="全部商品"?(d(),T(w,{key:0,pages:i.pagination,onEmitPages:r.getProducts},null,8,["pages","onEmitPages"])):g("",!0)])])])],64)}const yt=C(R,[["render",lt],["__scopeId","data-v-47b8be53"]]);export{yt as default};
