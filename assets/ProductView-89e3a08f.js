import{_ as x,a as w,c as n,e as u,w as _,b as t,t as c,u as I,v as C,F as p,j as L,r as h,o as l,p as P,f as T,l as a}from"./index-fd95bbe9.js";import{c as V}from"./cart-1c2bb7f2.js";import{S as m}from"./sweetalert2.all-a610e0ed.js";import{_ as k}from"./pikachu_gif-e9cb6898.js";const{VITE_URL:g,VITE_PATH:v}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/production-sub-path/",MODE:"production",DEV:!1,PROD:!0},E={data(){return{isLoading:!1,qty:1,products:[],product:{},category:"",loadingItem:""}},methods:{...w(V,["addToCart"]),getProducts(e){this.products=[],this.$http.get(`${g}/v2/api/${v}/products`).then(o=>{o.data.products.forEach(r=>{r.category===e&&r.id!==this.product.id&&this.products.push(r)}),this.isLoading=!1}).catch(o=>{this.isLoading=!1,m.fire({icon:"error",title:"Oops...",text:`${o}.response.data.message`})})},getProduct(){this.isLoading=!0;const{id:e}=this.$route.params;this.$http.get(`${g}/v2/api/${v}/product/${e}`).then(o=>{this.product=o.data.product,this.category=this.product.category,this.getProducts(this.category)}).catch(o=>{this.isLoading=!1,m.fire({icon:"error",title:"Oops...",text:`${o}.response.data.message`})})}},computed:{filteredProducts(){return this.products.slice(0,4)}},watch:{"$route.params":{handler(){this.getProduct()}}},mounted(){this.getProduct()}},d=e=>(P("data-v-a9d69b72"),e=e(),T(),e),S=d(()=>t("div",{class:"loadingGif"},[t("img",{src:k,alt:"會動的皮卡丘過場圖"})],-1)),q={class:"container pt-5"},B={class:"pt-5 d-flex flex-column flex-lg-row align-items-center"},R={class:"mainImg"},U=["src"],D={class:"ms-5 text-start"},A={class:"my-4"},M={class:"row mb-4"},N=d(()=>t("div",{class:"col-4"},"商品說明:",-1)),O={class:"col-8"},F={class:"row"},H=d(()=>t("div",{class:"col-4"},"商品描述:",-1)),$={class:"col-8"},j={class:"row mt-4 align-items-end"},z={class:"col-5 col-lg-6"},G={class:"input-group"},J=["disabled"],K=["disabled"],Q={class:"col-5 col-lg-4"},W=d(()=>t("div",{class:"text-start my-4"},[a(" 本網站商品皆為正版"),t("br"),a(" 為保障你我權益，貨到拆封請全程錄影"),t("br"),a(" 商品於七日內附上影片方可退貨 ")],-1)),X={class:"my-4 text-center"},Y={class:"row d-flex flex-column flex-lg-row align-items-center"},Z=["src"],tt={class:"mt-2"},st=["onClick"];function ot(e,o,r,et,s,f){const y=h("LoadingItem"),b=h("RouterLink");return l(),n(p,null,[u(y,{active:s.isLoading,"z-index":1060},{default:_(()=>[S]),_:1},8,["active"]),t("div",q,[t("div",B,[t("div",R,[t("img",{style:{width:"100%"},src:s.product.imageUrl,alt:""},null,8,U)]),t("div",D,[t("h1",null,c(s.product.title),1),t("div",A,"NT$ "+c(s.product.price),1),t("div",M,[N,t("div",O,c(s.product.content),1)]),t("div",F,[H,t("div",$,c(s.product.description),1)]),t("div",j,[t("div",z,[t("div",G,[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:o[0]||(o[0]=i=>s.qty>1?s.qty-=1:null),disabled:s.product.id===s.loadingItem}," - ",8,J),I(t("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[1]||(o[1]=i=>s.qty=i),min:"0",disabled:""},null,512),[[C,s.qty,void 0,{number:!0}]]),t("button",{class:"btn btn-outline-secondary",type:"button",onClick:o[2]||(o[2]=i=>s.qty+=1),disabled:s.product.id===s.loadingItem}," + ",8,K)])]),t("div",Q,[t("button",{class:"btn btn-myBgMain text-myColor border-myColor",onClick:o[3]||(o[3]=i=>e.addToCart(s.product.id,s.product.title))}," 加入購物車 ")])])])]),W,t("div",X,"選購更多"+c(s.product.category),1),t("div",Y,[(l(!0),n(p,null,L(f.filteredProducts,i=>(l(),n("div",{class:"col-lg-3 moreImg",key:i.id},[u(b,{to:`/product/${i.id}`,class:"hover-pointer"},{default:_(()=>[t("img",{class:"w-100",src:i.imageUrl,alt:""},null,8,Z)]),_:2},1032,["to"]),t("div",tt,[t("button",{class:"btn btn-myBgMain text-myColor border-myColor",onClick:it=>e.addToCart(i.id,i.title)}," 加入購物車 ",8,st)])]))),128))])])],64)}const lt=x(E,[["render",ot],["__scopeId","data-v-a9d69b72"]]);export{lt as default};
