import{S as _}from"./sweetalert2.all-9472f5c7.js";import{_ as h,x as v,c as V,e as l,w as f,r as c,o as x,b as s,n as m,u as k,v as y,p as g,f as w}from"./index-49a2e4fd.js";const{VITE_URL:I,VITE_PATH:E}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/production-sub-path/",MODE:"production",DEV:!1,PROD:!0},S={data(){return{user:{name:"",email:"",tel:"",address:""},message:"",isclick:!1}},methods:{isPhone(a){return/^(09)[0-9]{8}$/.test(a)?!0:"需要正確的電話號碼"},onSubmit(){this.isclick=!0;const a={user:this.user,message:this.message};this.$http.post(`${I}/v2/api/${E}/order`,{data:a}).then(e=>{this.$router.push(`/cart/checkOrder/${e.data.orderId}`),this.$refs.form.resetForm(),this.isclick=!1,_.fire({position:"top-center",icon:"success",title:"您的訂單已建立",showConfirmButton:!1,timer:1500}),console.log(e)}).catch(e=>{_.fire({icon:"error",title:"Oops...",text:`${e}.response.data.message`})})}},components:{RouterLink:v}},i=a=>(g("data-v-8edbf258"),a=a(),w(),a),U={class:"my-5 row justify-content-center"},B={class:"mb-3"},R=i(()=>s("label",{for:"email",class:"form-label d-flex"},"Email*",-1)),T={class:"mb-3"},C=i(()=>s("label",{for:"name",class:"form-label d-flex"},"收件人姓名*",-1)),L={class:"mb-3"},P=i(()=>s("label",{for:"tel",class:"form-label d-flex"},"收件人電話*",-1)),D={class:"mb-3"},M=i(()=>s("label",{for:"address",class:"form-label d-flex"},"收件人地址*",-1)),N={class:"mb-3"},O=i(()=>s("label",{for:"message",class:"form-label d-flex"},"留言",-1)),q={class:"d-flex justify-content-between"},A=i(()=>s("div",{class:"material-symbols-outlined"},"arrow_back",-1)),j=i(()=>s("div",null,"回購物車",-1)),H=["disabled"];function z(a,e,F,G,o,u){const n=c("v-field"),r=c("error-message"),p=c("RouterLink"),b=c("v-form");return x(),V("div",U,[l(b,{ref:"form",class:"col-md-6",onSubmit:u.onSubmit},{default:f(({errors:d})=>[s("div",B,[R,l(n,{id:"email",name:"email",type:"email",class:m(["form-control",{"is-invalid":d.email}]),placeholder:"請輸入 Email, 例:abc@def.com",rules:"email|required",modelValue:o.user.email,"onUpdate:modelValue":e[0]||(e[0]=t=>o.user.email=t)},null,8,["class","modelValue"]),l(r,{name:"email",class:"invalid-feedback"})]),s("div",T,[C,l(n,{id:"name",name:"姓名",type:"text",class:m(["form-control",{"is-invalid":d.姓名}]),placeholder:"請輸入姓名",rules:"required",modelValue:o.user.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.user.name=t)},null,8,["class","modelValue"]),l(r,{name:"姓名",class:"invalid-feedback"})]),s("div",L,[P,l(n,{id:"tel",name:"電話",type:"tel",class:m(["form-control",{"is-invalid":d.電話}]),placeholder:"請輸入電話,例:0912345678",rules:u.isPhone,modelValue:o.user.tel,"onUpdate:modelValue":e[2]||(e[2]=t=>o.user.tel=t)},null,8,["class","rules","modelValue"]),l(r,{name:"電話",class:"invalid-feedback"})]),s("div",D,[M,l(n,{id:"address",name:"地址",type:"text",class:m(["form-control",{"is-invalid":d.地址}]),placeholder:"請輸入地址",rules:"required",modelValue:o.user.address,"onUpdate:modelValue":e[3]||(e[3]=t=>o.user.address=t)},null,8,["class","modelValue"]),l(r,{name:"地址",class:"invalid-feedback"})]),s("div",N,[O,k(s("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":e[4]||(e[4]=t=>o.message=t)},null,512),[[y,o.message]])]),s("div",q,[s("div",null,[l(p,{to:"/cart",class:"d-flex btn btn-myBgMain"},{default:f(()=>[A,j]),_:1})]),s("button",{type:"submit",class:"btn btn-myBgMain border-myColor text-myColor btn-hover",disabled:o.isclick===!0}," 確認資料 ",8,H)])]),_:1},8,["onSubmit"])])}const Q=h(S,[["render",z],["__scopeId","data-v-8edbf258"]]);export{Q as default};
