import{_ as w,a as b,c as d,e as u,w as h,b as t,n as l,l as L,t as p,q as g,F as m,j as P,d as k,r as _,o as c,s as T,p as E,f as V}from"./index-6a9e099d.js";import{c as I}from"./cart-17fc04f2.js";import{S}from"./sweetalert2.all-46983b9e.js";import{P as B}from"./PaginationView-ff010d23.js";import{_ as R}from"./pikachu_gif-ecacffd9.js";const{VITE_URL:y,VITE_PATH:f}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/PTCGTrainerWeb/",MODE:"production",DEV:!1,PROD:!0},N={data(){return{isLoading:!1,products:[],productCategory:[],category:"",pagination:{},page:1}},methods:{...b(I,["addToCart"]),getProducts(s=1,e="全部商品"){this.isLoading=!0,this.page=s,this.category=e,this.$http.get(`${y}/v2/api/${f}/products/?page=${s}`).then(r=>{this.products=r.data.products,this.pagination=r.data.pagination,e==="全部商品"?(this.productCategory=this.products,this.isLoading=!1):this.getCategory(e)}).catch(()=>{this.isLoading=!1,S.fire({icon:"error",title:"Oops...",text:11})})},getCategory(s){this.$http.get(`${y}/v2/api/${f}/products/all`).then(e=>{this.productCategory=[],e.data.products.forEach(r=>{r.category===s&&this.productCategory.push(r)}),this.isLoading=!1}).catch(()=>{this.isLoading=!1})}},components:{Pagination:B},mounted(){this.category=this.$route.params.category,this.getProducts(void 0,this.category)}},n=s=>(E("data-v-a01b8e40"),s=s(),V(),s),A=n(()=>t("div",{class:"loadingGif"},[t("img",{src:R,alt:"會動的皮卡丘過場圖"})],-1)),D={class:"container"},U={class:"row d-flex flex-column flex-lg-row"},$={class:"col-lg-3"},j={class:"w-100 pt-3 text-center d-flex flex-column productBtnList"},O=n(()=>t("p",null,"全部商品",-1)),z=[O],F=n(()=>t("p",null,"單卡",-1)),G=[F],H=n(()=>t("p",null,"牌組",-1)),M=[H],W=n(()=>t("p",null,"禮盒",-1)),q=[W],J=n(()=>t("p",null,"周邊",-1)),K=[J],Q={class:"col-lg-9"},X={class:"pt-3 d-flex justify-content-center justify-content-lg-start text-white"},Y={key:0},Z={class:"row productCardWrap"},tt={class:"pt-3 card productCard"},et={class:"text-center"},ot=["src"],st={class:"py-3",style:{width:"176px",margin:"0 auto"}},it={class:"pb-3 text-start text-white"},nt={class:"pb-3 text-start text-white"},rt=["onClick"],at=n(()=>t("p",null,"加入購物車",-1)),ct=[at];function dt(s,e,r,lt,i,a){const x=_("LoadingItem"),v=_("RouterLink"),C=_("Pagination");return c(),d(m,null,[u(x,{active:i.isLoading,"z-index":1060},{default:h(()=>[A]),_:1},8,["active"]),t("div",D,[t("div",U,[t("div",$,[t("ul",j,[t("li",{type:"button",class:"btn text-myColor productsList",onClick:e[0]||(e[0]=o=>a.getProducts("全部商品"))},z),t("li",{type:"button",class:l(["btn border-white productList",i.category==="單卡"?"text-myColor":"text-white"]),onClick:e[1]||(e[1]=o=>a.getProducts(void 0,"單卡"))},G,2),t("li",{type:"button",class:l(["btn border-white productList",i.category==="牌組"?"text-myColor":"text-white"]),onClick:e[2]||(e[2]=o=>a.getProducts(void 0,"牌組"))},M,2),t("li",{type:"button",class:l(["btn border-white productList",i.category==="禮盒"?"text-myColor":"text-white"]),onClick:e[3]||(e[3]=o=>a.getProducts(void 0,"禮盒"))},q,2),t("li",{type:"button",class:l(["btn border-white productList",i.category==="周邊"?"text-myColor":"text-white"]),onClick:e[4]||(e[4]=o=>a.getProducts(void 0,"周邊"))},K,2)])]),t("div",Q,[t("div",X,[L(" 全部商品 "),i.category!=="全部商品"?(c(),d("div",Y,"/"+p(i.category),1)):g("",!0)]),t("div",Z,[(c(!0),d(m,null,P(i.productCategory,o=>(c(),d("div",{class:"col-lg-4 p-3",key:o.id},[t("div",tt,[u(v,{to:`/product/${o.id}`,class:"hover-pointer text-decoration-none"},{default:h(()=>[t("div",et,[t("img",{style:{"max-width":"70%",height:"auto"},src:o.imageUrl,class:"card-img-top",alt:"..."},null,8,ot)]),t("div",st,[t("div",it,p(o.title),1),t("div",nt," NT$ "+p(o.price),1)]),t("button",{class:"btn text-myColor productBtn",onClick:T(pt=>s.addToCart(o.id,o.title),["prevent"])},ct,8,rt)]),_:2},1032,["to"])])]))),128))]),i.category=="全部商品"?(c(),k(C,{key:0,pages:i.pagination,onEmitPages:a.getProducts},null,8,["pages","onEmitPages"])):g("",!0)])])])],64)}const yt=w(N,[["render",dt],["__scopeId","data-v-a01b8e40"]]);export{yt as default};
