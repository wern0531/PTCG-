import{_ as S,r as l,s as D,D as U,E as A,c as v,e as T,d as t,t as i,x as M,G as N,A as E,u as d,f as p,F as P,v as O,g as z,j as F,l as B,a as G,b as m,w as H,p as j,i as q}from"./index-f4e13166.js";import{_ as W}from"./LoadingComponent-6eddb931.js";import{c as J}from"./cart-ce0f3dba.js";import{S as I}from"./sweetalert2.all-825c1604.js";import"./pikachu_gif-ecacffd9.js";const u=_=>(j("data-v-3cbb12bb"),_=_(),q(),_),K={key:0,class:"container"},Q={class:"pt-5"},X={class:"row flex-column flex-lg-row align-items-center"},Y={class:"col-lg-7"},Z={class:"mainImg"},tt=["src"],st={class:"col-lg-5"},et={class:"ms-lg-5 mt-3 mt-lg-0 text-lg-start"},ot={class:"my-4"},lt={class:"row mb-4"},at=u(()=>t("div",{class:"col-6 col-lg-4"},"商品說明:",-1)),ct={class:"col-6 col-lg-8"},it={class:"row"},nt=u(()=>t("div",{class:"col-6 col-lg-4"},"商品描述:",-1)),rt={class:"col-6 col-lg-8"},dt={class:"row mt-4"},ut={class:"col-6"},_t={class:"input-group mx-auto m-lg-0 w-75"},vt={class:"col-6"},mt=u(()=>t("div",{class:"text-start ms-5 mt-5"},[p(" 本網站商品皆為正版"),t("br"),p(" 為保障你我權益，貨到拆封請全程錄影"),t("br"),p(" 商品於七日內附上影片方可退貨 ")],-1)),pt={class:"my-4 text-center"},gt=u(()=>t("br",null,null,-1)),bt=u(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4z"})],-1)),ht={class:"row d-flex flex-column flex-md-row align-items-center"},ft=["src"],wt={class:"pt-2 bg-myBgCard"},xt={class:"pt-2 bg-myBgCard rounded-bottom"},yt=["onClick"],Ct={__name:"ProductView",setup(_){const a=l(1),f=J(),{addToCart:w}=f,{isDisable:x}=D(f),g=l(!1),n=l(!1),b=l([]),e=l({}),y=l(""),{VITE_URL:C,VITE_PATH:V}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/PTCGTrainerWeb/",MODE:"production",DEV:!1,PROD:!0},h=F(),$=l(h.params.id);U(()=>h.params.id,()=>{$.value=h.params.id,k()});const k=()=>{n.value=!0,g.value=!1,B.get(`${C}/v2/api/${V}/product/${$.value}`).then(c=>{e.value=c.data.product,y.value=e.value.category,R(y)}).catch(c=>{n.value=!1,I.fire({backdrop:!1,icon:"error",title:"Oops...",text:`${c.response.data.message}`})})};k();const R=c=>{b.value=[],B.get(`${C}/v2/api/${V}/products/all`).then(s=>{s.data.products.forEach(r=>{r.category===c.value&&r.id!==e.value.id&&b.value.push(r)}),g.value=!0,n.value=!1}).catch(s=>{n.value=!1,I.fire({backdrop:!1,icon:"error",title:"Oops...",text:`${s.response.data.message}`})})},L=A(()=>b.value.slice(0,4));return(c,s)=>{const r=G("RouterLink");return m(),v(P,null,[T(W,{"is-loading":n.value},null,8,["is-loading"]),g.value?(m(),v("div",K,[t("div",Q,[t("div",X,[t("div",Y,[t("div",Z,[t("img",{style:{width:"100%"},src:e.value.imageUrl,alt:"單一產品圖片"},null,8,tt)])]),t("div",st,[t("div",et,[t("h1",null,i(e.value.title),1),t("div",ot,"NT$ "+i(e.value.price),1),t("div",lt,[at,t("div",ct,i(e.value.content),1)]),t("div",it,[nt,t("div",rt,i(e.value.description),1)]),t("div",dt,[t("div",ut,[t("div",_t,[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[0]||(s[0]=o=>a.value>1?a.value-=1:null)}," - "),M(t("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":s[1]||(s[1]=o=>a.value=o),min:"0",disabled:""},null,512),[[N,a.value,void 0,{number:!0}]]),t("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[2]||(s[2]=o=>a.value+=1)}," + ")])]),t("div",vt,[t("button",{class:E([{disabled:d(x)},"btn btn-myBgMain text-myColor border-myColor"]),onClick:s[3]||(s[3]=o=>d(w)(e.value.id,e.value.title,a.value))}," 加入購物車 ",2)])])]),mt])])]),t("div",pt,[p(" 選購更多"+i(e.value.category)+" ",1),gt,bt]),t("div",ht,[(m(!0),v(P,null,O(d(L),o=>(m(),v("div",{class:"col-md-6 col-lg-3 mb-4 m-lg-0",key:o.id},[T(r,{style:{cursor:"pointer"},class:"text-white text-decoration-none",to:`/product/${o.id}`},{default:H(()=>[t("img",{class:"w-100",src:o.imageUrl,alt:"更多產品圖片"},null,8,ft),t("div",wt,i(o.title),1)]),_:2},1032,["to"]),t("div",xt,[t("button",{class:E([{disabled:d(x)},"w-100 btn btn-myBgMain text-myColor border-myColor"]),onClick:Vt=>d(w)(o.id,o.title)}," 加入購物車 ",10,yt)])]))),128))])])):z("",!0)],64)}}},Bt=S(Ct,[["__scopeId","data-v-3cbb12bb"]]);export{Bt as default};
