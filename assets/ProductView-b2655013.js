import{_ as b,a as f,c as l,e as y,w as x,b as t,t as c,v as w,x as C,f as d,F as _,l as I,r as P,o as a,p as T,g as L}from"./index-d1288f53.js";import{c as V}from"./cart-8fd4dae5.js";import{S as h}from"./sweetalert2.all-4b980b76.js";import{_ as k}from"./pikachu_gif-ecacffd9.js";const{VITE_URL:p,VITE_PATH:m}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"wern",BASE_URL:"/PTCGTrainerWeb/",MODE:"production",DEV:!1,PROD:!0},E={data(){return{isLoading:!1,qty:1,products:[],product:{},category:"",loadingItem:""}},methods:{...f(V,["addToCart"]),getProducts(e){this.products=[],this.$http.get(`${p}/v2/api/${m}/products/all`).then(o=>{o.data.products.forEach(n=>{n.category===e&&n.id!==this.product.id&&this.products.push(n)})}).then(this.isLoading=!1).catch(o=>{this.isLoading=!1,h.fire({icon:"error",title:"Oops...",text:`${o.response.data.message}`})})},getProduct(){this.isLoading=!0;const{id:e}=this.$route.params;this.$http.get(`${p}/v2/api/${m}/product/${e}`).then(o=>{this.product=o.data.product,this.category=this.product.category,this.getProducts(this.category)}).catch(o=>{this.isLoading=!1,h.fire({icon:"error",title:"Oops...",text:`${o.response.data.message}`})})},changeProduct(e){this.$router.push(`/product/${e}`).then(()=>{this.getProduct()})}},computed:{filteredProducts(){return this.products.slice(0,4)}},mounted(){this.getProduct()}},r=e=>(T("data-v-b1581586"),e=e(),L(),e),S=r(()=>t("div",{class:"loadingGif"},[t("img",{src:k,alt:"會動的皮卡丘過場圖"})],-1)),B={class:"container pt-5"},q={class:"pt-5 d-flex flex-column flex-lg-row align-items-center"},U={class:"mainImg"},A=["src"],D={class:"ms-5 mt-3 mt-md-0 text-start"},M={class:"my-4"},N={class:"row mb-4"},O=r(()=>t("div",{class:"col-4"},"商品說明:",-1)),R={class:"col-8"},z={class:"row"},F=r(()=>t("div",{class:"col-4"},"商品描述:",-1)),G={class:"col-8"},H={class:"row mt-4 align-items-end"},$={class:"col-5 col-lg-6"},W={class:"input-group"},j=["disabled"],J=["disabled"],K={class:"col-5 col-lg-4"},Q=r(()=>t("div",{class:"text-start my-4"},[d(" 本網站商品皆為正版"),t("br"),d(" 為保障你我權益，貨到拆封請全程錄影"),t("br"),d(" 商品於七日內附上影片方可退貨 ")],-1)),X={class:"my-4 text-center"},Y=r(()=>t("br",null,null,-1)),Z=r(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4z"})],-1)),tt={class:"row d-flex flex-column flex-lg-row align-items-center"},st=["onClick"],ot=["src"],et={class:"mt-2"},it={class:"mt-2"},ct=["onClick"];function rt(e,o,n,nt,s,u){const g=P("LoadingItem");return a(),l(_,null,[y(g,{active:s.isLoading,"z-index":1060},{default:x(()=>[S]),_:1},8,["active"]),t("div",B,[t("div",q,[t("div",U,[t("img",{style:{width:"100%"},src:s.product.imageUrl,alt:"單一產品圖片"},null,8,A)]),t("div",D,[t("h1",null,c(s.product.title),1),t("div",M,"NT$ "+c(s.product.price),1),t("div",N,[O,t("div",R,c(s.product.content),1)]),t("div",z,[F,t("div",G,c(s.product.description),1)]),t("div",H,[t("div",$,[t("div",W,[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:o[0]||(o[0]=i=>s.qty>1?s.qty-=1:null),disabled:s.product.id===s.loadingItem}," - ",8,j),w(t("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[1]||(o[1]=i=>s.qty=i),min:"0",disabled:""},null,512),[[C,s.qty,void 0,{number:!0}]]),t("button",{class:"btn btn-outline-secondary",type:"button",onClick:o[2]||(o[2]=i=>s.qty+=1),disabled:s.product.id===s.loadingItem}," + ",8,J)])]),t("div",K,[t("button",{class:"btn btn-myBgMain text-myColor border-myColor",onClick:o[3]||(o[3]=i=>e.addToCart(s.product.id,s.product.title))}," 加入購物車 ")])])])]),Q,t("div",X,[d(" 選購更多"+c(s.product.category)+" ",1),Y,Z]),t("div",tt,[(a(!0),l(_,null,I(u.filteredProducts,i=>(a(),l("div",{class:"col-lg-3 moreImg",key:i.id},[t("div",{class:"hover",style:{cursor:"pointer"},onClick:v=>u.changeProduct(i.id)},[t("img",{class:"w-100",src:i.imageUrl,alt:"更多產品圖片"},null,8,ot)],8,st),t("div",et,c(i.title),1),t("div",it,[t("button",{class:"btn btn-myBgMain text-myColor border-myColor",onClick:v=>e.addToCart(i.id,i.title)}," 加入購物車 ",8,ct)])]))),128))])])],64)}const _t=b(E,[["render",rt],["__scopeId","data-v-b1581586"]]);export{_t as default};
